<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org" th:replace="~{navigation-bar :: navbar (~{::body}, ~{::title})}">
<head>
    <meta charset="UTF-8">
    <title>My Products</title>
</head>
<body>

<div class="container my-2">
    <h4>My Products</h4>
    <div class="row">
        <div style="width: 245px; height: auto" th:each="product: ${products}">
            <div class="card" style="padding: 10px">
                <img th:src="@{/products/{id}/image (id=${product.id})}" width="200" height="200"
                     style="background-color: #ccc">
                <h6 th:text="${product.name}"></h6>
                <a th:text="${product.price} + 'â‚¬'"></a>
                <hr class="dropdown-divider">

                <div class="col">
                    <a th:href="@{/my-products/{id}/update (id=${product.id})}">
                        <img src="/resources/icons/edit.svg" width="20" alt="UpdateButton"></a>
                    <a type="button" data-bs-toggle="modal"
                       th:attr="data-bs-target='#deleteModal'+${product.id}">
                        <img src="/resources/icons/delete.svg" width="20" alt="deleteButton"></a>

                    <!-- Modal -->
                    <div class="modal fade"
                         th:attr="id='deleteModal'+${product.id}, aria-labelledby='deleteModalLabel' + ${product.id}"
                         tabindex="-1" aria-hidden="true">
                        <div class="modal-dialog modal-dialog-centered">
                            <div class="modal-content">
                                <div class="modal-header">
                                    <h5 class="modal-title" th:attr="id='deleteModalLabel'+${product.id}">
                                        Are you sure you want to delete this race?</h5>
                                    <button type="button" class="btn-close" data-bs-dismiss="modal"
                                            aria-label="Close"></button>
                                </div>
                                <div class="modal-body">
                                    <p th:text="'Title: ' + ${product.name}"></p>
                                </div>
                                <div class="modal-footer">
                                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">
                                        Cancel
                                    </button>
                                    <a type="button" class="btn btn-danger"
                                       th:href="@{/my-products/{id}/delete (id=${product.id})}">Delete</a>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <br/>
        </div>
    </div>
</div>

</body>
</html>